<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>说一道面试题</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    <script>
    	/*
    		1.声明一个空的数组
    		2.进行循环，每次循环向数组中添加一个匿名函数
    		3.对已经添加数据的数组进行循环，将循环出的数据（上面的匿名函数）作为参数传入此次循环中的匿名函数中，在匿名函数中将函数执行
    		4.由于在此时调用数据中的函数，之前的for循环早已执行完成，所以在这里执行只会得到数组循环到最后一次的数据10
    	*/
    	var funcs = []
    	
	    for (var i = 0; i < 10; i++) {
	        funcs.push(function() { console.log(i) })
	    }
	    funcs.forEach(function(func) {
	        func()
	    })

	    // ES5告诉我们可以利用闭包解决这个问题
	    var funcs = []
	    for (var i = 0; i < 10; i++) {
	        funcs.push((function(value) {
	            return function() {
	                console.log(value)
	            }
	        }(i)))
	    }
	    // es6
	    for (let i = 0; i < 10; i++) {
	        funcs.push(function() {
	            console.log(i)
	        })
	    }
    </script>
</body>
</html>